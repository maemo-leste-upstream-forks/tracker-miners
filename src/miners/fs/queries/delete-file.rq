# Inputs: uri
DELETE {
  GRAPH tracker:FileSystem {
    ?f a rdfs:Resource .
  } .
  GRAPH ?g {
    ?f a rdfs:Resource .
    ?ie a rdfs:Resource .
  }
} WHERE {
  GRAPH tracker:FileSystem {
    ?f a rdfs:Resource ;
      nie:url ~uri
    OPTIONAL {
      GRAPH ?g {
        ?ie nie:isStoredAs ?f
      }
    }
  }
}
